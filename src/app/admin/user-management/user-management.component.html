<app-layout>
  <div class="user-management-container">
    <nz-card nzTitle="User Management">
      <div nz-row [nzGutter]="16" class="actions-row">
        <div nz-col [nzSpan]="16">
         
        </div>
        
      </div>

      <nz-table
        #usersTable
        [nzData]="users"
        [nzLoading]="loading"
        [nzBordered]="true"
        [nzSize]="'middle'"
        [nzShowPagination]="false"
        [nzFrontPagination]="false"
      >
        <thead>
          <tr>
            <th>Username</th>
            <th>Full Name</th>
            <th>Email</th>
            <th>Roles</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of usersTable.data">
            <td>{{ user.username }}</td>
            <td>{{ user.full_name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.roles }}</td>
            <td>
              <nz-tag [nzColor]="user.isActive ? 'success' : 'error'">
                {{ user.isActive ? 'Active' : 'Inactive' }}
              </nz-tag>
            </td>
            <td>
              <button nz-button nzType="primary" (click)="openUserDialog(user)">Edit</button>
            </td>
          </tr>
        </tbody>
      </nz-table>

      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
    </nz-card>
  </div>
</app-layout>
